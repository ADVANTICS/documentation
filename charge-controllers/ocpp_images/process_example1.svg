<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="692px" preserveAspectRatio="none" style="width:964px;height:692px;" version="1.1" viewBox="0 0 964 692" width="964px" zoomAndPan="magnify"><defs><filter height="300%" id="flo4hgkrf46it" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#flo4hgkrf46it)" height="374.2031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="200" y="161.6953"/><rect fill="#FFFFFF" filter="url(#flo4hgkrf46it)" height="189.6016" style="stroke: #000000; stroke-width: 2.0;" width="579" x="373" y="176.6953"/><rect fill="#FFFFFF" height="72.0703" style="stroke: none; stroke-width: 1.0;" width="579" x="373" y="294.2266"/><rect fill="#FFFFFF" filter="url(#flo4hgkrf46it)" height="207.8672" style="stroke: #000000; stroke-width: 2.0;" width="735.5" x="13" y="380.2969"/><rect fill="#FFFFFF" height="132.4688" style="stroke: none; stroke-width: 1.0;" width="735.5" x="13" y="455.6953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="60" x2="60" y1="86.2969" y2="605.1641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="204.5" x2="204.5" y1="86.2969" y2="605.1641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="451" x2="451" y1="86.2969" y2="605.1641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="671.5" x2="671.5" y1="86.2969" y2="605.1641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="803.5" x2="803.5" y1="86.2969" y2="605.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="23" y="82.9951">Customer</text><ellipse cx="60" cy="13" fill="#FEFECE" filter="url(#flo4hgkrf46it)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M60,21 L60,48 M47,29 L73,29 M60,48 L47,63 M60,48 L73,63 " fill="none" filter="url(#flo4hgkrf46it)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="23" y="617.1592">Customer</text><ellipse cx="60" cy="630.4609" fill="#FEFECE" filter="url(#flo4hgkrf46it)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M60,638.4609 L60,665.4609 M47,646.4609 L73,646.4609 M60,665.4609 L47,680.4609 M60,665.4609 L73,680.4609 " fill="none" filter="url(#flo4hgkrf46it)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="125.5" y="82.9951">Third-Party Application</text><path d="M184.5,42 L184.5,66 M184.5,54 L201.5,54 " fill="none" filter="url(#flo4hgkrf46it)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="213.5" cy="54" fill="#FEFECE" filter="url(#flo4hgkrf46it)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="125.5" y="617.1592">Third-Party Application</text><path d="M184.5,624.4609 L184.5,648.4609 M184.5,636.4609 L201.5,636.4609 " fill="none" filter="url(#flo4hgkrf46it)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="213.5" cy="636.4609" fill="#FEFECE" filter="url(#flo4hgkrf46it)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#flo4hgkrf46it)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="383" y="34.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="409.5" y="54.6982">ADVANTICS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="390" y="70.9951">OCPP Application</text><rect fill="#FEFECE" filter="url(#flo4hgkrf46it)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="383" y="604.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="409.5" y="624.1592">ADVANTICS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="390" y="640.4561">OCPP Application</text><rect fill="#FEFECE" filter="url(#flo4hgkrf46it)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="605.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="612.5" y="70.9951">EVSE Application</text><rect fill="#FEFECE" filter="url(#flo4hgkrf46it)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="605.5" y="604.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="612.5" y="624.1592">EVSE Application</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="748.5" y="82.9951">Central System</text><path d="M785.5,34 C785.5,24 803.5,24 803.5,24 C803.5,24 821.5,24 821.5,34 L821.5,60 C821.5,70 803.5,70 803.5,70 C803.5,70 785.5,70 785.5,60 L785.5,34 " fill="#FEFECE" filter="url(#flo4hgkrf46it)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M785.5,34 C785.5,44 803.5,44 803.5,44 C803.5,44 821.5,44 821.5,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="748.5" y="617.1592">Central System</text><path d="M785.5,630.4609 C785.5,620.4609 803.5,620.4609 803.5,620.4609 C803.5,620.4609 821.5,620.4609 821.5,630.4609 L821.5,656.4609 C821.5,666.4609 803.5,666.4609 803.5,666.4609 C803.5,666.4609 785.5,666.4609 785.5,656.4609 L785.5,630.4609 " fill="#FEFECE" filter="url(#flo4hgkrf46it)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M785.5,630.4609 C785.5,640.4609 803.5,640.4609 803.5,640.4609 C803.5,640.4609 821.5,640.4609 821.5,630.4609 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#flo4hgkrf46it)" height="374.2031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="200" y="161.6953"/><ellipse cx="204.5" cy="131.8125" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="187.5,128.5625,197.5,132.5625,187.5,136.5625,191.5,132.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="60" x2="193.5" y1="132.5625" y2="132.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="67" y="112.3638">present ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="67" y="127.4966">e.g. to RFID reader</text><polygon fill="#A80036" points="439,157.6953,449,161.6953,439,165.6953,443,161.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="210" x2="445" y1="161.6953" y2="161.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="217" y="156.6294">id_presented(connector_id, id_tag)</text><path d="M373,176.6953 L437,176.6953 L437,183.6953 L427,193.6953 L373,193.6953 L373,176.6953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="189.6016" style="stroke: #000000; stroke-width: 2.0;" width="579" x="373" y="176.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="388" y="189.7622">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="495" x="452" y="188.9058">[LocalAuthorizationCache &amp; LocalAuthList are disabled or id_tag is unknown]</text><polygon fill="#A80036" points="791.5,210.9609,801.5,214.9609,791.5,218.9609,795.5,214.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="451" x2="797.5" y1="214.9609" y2="214.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="458" y="209.895">Authorize.req(id_tag)</text><polygon fill="#A80036" points="462,240.0938,452,244.0938,462,248.0938,458,244.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="456" x2="802.5" y1="244.0938" y2="244.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="468" y="239.0278">Authorize.conf(id_tag_info)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="451" x2="493" y1="273.2266" y2="273.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="493" x2="493" y1="273.2266" y2="286.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="493" y1="286.2266" y2="286.2266"/><polygon fill="#A80036" points="462,282.2266,452,286.2266,462,290.2266,458,286.2266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="458" y="268.1606">update LocalAuthorizationCache</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="373" x2="952" y1="295.2266" y2="295.2266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="461" x="378" y="305.437">[id_tag_info is retreived from LocalAuthorizationCache or LocalAuthList]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="451" x2="493" y1="345.2969" y2="345.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="493" x2="493" y1="345.2969" y2="358.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="493" y1="358.2969" y2="358.2969"/><polygon fill="#A80036" points="462,354.2969,452,358.2969,462,362.2969,458,358.2969" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="458" y="325.0981">retrieve id_tag_info</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="458" y="340.231">from local sources</text><path d="M13,380.2969 L77,380.2969 L77,387.2969 L67,397.2969 L13,397.2969 L13,380.2969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="207.8672" style="stroke: #000000; stroke-width: 2.0;" width="735.5" x="13" y="380.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="393.3638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="92" y="392.5073">[id_tag is invalid]</text><polygon fill="#A80036" points="221,414.5625,211,418.5625,221,422.5625,217,418.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="215" x2="450" y1="418.5625" y2="418.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="227" y="413.4966">return False</text><ellipse cx="59.5" cy="446.9453" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="76.5,443.6953,66.5,447.6953,76.5,451.6953,72.5,447.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="74.5" x2="199" y1="447.6953" y2="447.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="77" y="442.6294">display error</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="748.5" y1="456.6953" y2="456.6953"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="18" y="466.9058">[id_tag is valid]</text><polygon fill="#A80036" points="660,502.7656,670,506.7656,660,510.7656,664,506.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="451" x2="666" y1="506.7656" y2="506.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="458" y="486.5669">allow charging on connector</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="458" y="501.6997">respective to connector_id</text><polygon fill="#A80036" points="216,531.8984,206,535.8984,216,539.8984,212,535.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="210" x2="450" y1="535.8984" y2="535.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="222" y="530.8325">return True</text><ellipse cx="59.5" cy="579.4141" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="76.5,576.1641,66.5,580.1641,76.5,584.1641,72.5,580.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="74.5" x2="204" y1="580.1641" y2="580.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="77" y="559.9653">display information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="77" y="575.0981">to start charging</text><!--
@startuml /ocpp_images/process_example1
actor       Customer as CUST
boundary    "Third-Party Application" as MGMT
participant "ADVANTICS\nOCPP Application" as OCPP
participant "EVSE Application" as EVSE
database    "Central System" as CLOUD

CUST ->o MGMT:  present ID\ne.g. to RFID reader
MGMT -> OCPP:   id_presented(connector_id, id_tag)
activate MGMT

alt     LocalAuthorizationCache & LocalAuthList are disabled or id_tag is unknown
OCPP -> CLOUD:  Authorize.req(id_tag)
CLOUD -> OCPP:  Authorize.conf(id_tag_info)
OCPP -> OCPP:   update LocalAuthorizationCache
else    id_tag_info is retreived from LocalAuthorizationCache or LocalAuthList
OCPP -> OCPP:   retrieve id_tag_info\nfrom local sources
end

alt     id_tag is invalid
OCPP -> MGMT:   return False
MGMT ->o CUST:  display error
else    id_tag is valid
OCPP -> EVSE:   allow charging on connector\nrespective to connector_id
OCPP -> MGMT:   return True
deactivate MGMT
MGMT ->o CUST:  display information\nto start charging
end

@enduml

PlantUML version 1.2018.13(Mon Nov 26 18:11:51 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.19+7-post-Ubuntu-0ubuntu120.04.1
Operating System: Linux
OS Version: 5.15.0-76-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>