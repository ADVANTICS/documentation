<!--
/home/amin/Documents/ADVANTICS/charge-controllers-workspace/Applications/etka-bms/etka/bms/advantics/v2/Advantics_Generic_PEV_protocol_v2.kcd CAN Database documentation file
Automatically generated by KCDDOC
-->

# CAN messages

## Message index

| Name | ID | Length | Direction | Cycle time |
|------|----|--------|-----------|------------|
| [EVSE_Information](#EVSE_Information) | 0x600 | 6 | OUT | 100 |
| [AC_Control](#AC_Control) | 0x601 | 1 | OUT | 100 |
| [DC_Control](#DC_Control) | 0x602 | 1 | OUT | 100 |
| [CCS_Extra_Information](#CCS_Extra_Information) | 0x603 | 6 | OUT | 100 |
| [ADM_CS_EVCC_Inputs](#ADM_CS_EVCC_Inputs) | 0x604 | 6 | OUT | 1000 |
| [EVCC_MEVC_Diagnostic_Status](#EVCC_MEVC_Diagnostic_Status) | 0x605 | 8 | OUT | 100 |
| [EV_Information](#EV_Information) | 0x610 | 3 | IN | 100 |
| [AC_Status](#AC_Status) | 0x611 | 1 | IN | 100 |
| [DC_Status1](#DC_Status1) | 0x612 | 8 | IN | 100 |
| [DC_Status2](#DC_Status2) | 0x613 | 5 | IN | 100 |
| [EV_Energy_Request](#EV_Energy_Request) | 0x614 | 6 | IN | 100 |
| [EV_V2X_Energy_Request](#EV_V2X_Energy_Request) | 0x615 | 4 | IN | 100 |
| [EV_Extra_BPT_Information](#EV_Extra_BPT_Information) | 0x616 | 4 | IN | 100 |
| [ADM_CS_EVCC_MEVC_Outputs](#ADM_CS_EVCC_MEVC_Outputs) | 0x617 | 8 | IN | 1000 |
| [EV_Status](#EV_Status) | 0x618 | 8 | IN | 100 |


<a id="EVSE_Information"></a>
## EVSE_Information { #EVSE_Information }


| * | * |
|---|---|
| **Frame ID** | 0x600 |
| **Length [Bytes]** | 6 |
| **Periodicity [ms]** | 100 |
| **Direction** | OUT |

### Description

Information about the EVSE (AC or DC source), when available.

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| Communication_Stage | 8 | Label set |
| Protocol | 8 | Label set |
| Pins | 8 | Label set |
| Max_Current | 16 | Signed |
| RCD_Status | 1 | Label set |
| Reserved_Flags | 7 | Unsigned |

### Payload description

#### Communication_Stage { #EVSE_Information-Communication_Stage }

Current internal state of the charge controller, reflecting communication stage.

Initialising:: Controller&#x27;s applications are starting up.
Waiting_For_EVSE:: Controller is idle and ready for a plug-in.
Negotiating_Connection:: Controller is plugged to a charger and the connection is
    being initialised. Important charge information are exchanged.
Connected_With_Full_Info:: All charge information from the EVSE were retrieved
    and a charge session can be considered to be properly started.
Insulation_Test:: Insulation of charge cable is being tested by charger.
Precharge:: Charger is matching its output voltage to present voltage of the
    battery.
Waiting_For_Charge:: PEV is about to begin the actual charge.
Charging:: Main charging loop going on.
Ending_Charge:: A normal charge stop condition happened and the PEV is exiting
    the charging loop.
Welding_Detection:: PEV is testing if its contactors are welded.
Closing_Communication:: PEV can unplug and we are reinitialising in order to
    then go back to __Waiting_For_EVSE__.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 8 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Initialising | 0 |
| Waiting_For_EVSE | 1 |
| Negotiating_Connection | 2 |
| Connected_With_Full_Info | 3 |
| Insulation_Test | 4 |
| Precharge | 5 |
| Waiting_For_Charge | 6 |
| Charging | 7 |
| Ending_Charge | 8 |
| Welding_Detection | 9 |
| Closing_Communication | 10 |

#### Protocol { #EVSE_Information-Protocol }

The charging protocol EVSE is using.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 8 | 8 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
|  | 0 |
| CCS_PWM | 1 |
| CCS_DIN_70121_2012_v2 | 2 |
| CCS_ISO_15118_2013_v2 | 3 |
| CCS_ISO_15118_2022 | 4 |

#### Pins { #EVSE_Information-Pins }

Pins on which current is supplied. __CCS_AC__ corresponds to any AC pins.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 16 | 8 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
|  | 0 |
| CCS_AC | 1 |
| CCS_AC_Single_Phase_Core | 2 |
| CCS_AC_Three_Phase_Core | 3 |
| CCS_DC_Core | 4 |
| CCS_DC_Extended | 5 |
| MCS | 6 |

#### Max_Current { #EVSE_Information-Max_Current }

Maximum current the on-board charger (AC) or BMS (DC) is allowed to draw.

In AC, it is defined as the minimum between EVSE max current
(ie. CP PWM duty cycle) and cable max current (ie. PP resistance).

In DC it corresponds to HLC data.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 24 | 16 | Signed | Amps | 1 | 0 | -32768 | 32767 |

#### RCD_Status { #EVSE_Information-RCD_Status }

Status of EVSE Residual Current Device (only available in HLC mode, 0 otherwise).
For information only.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 40 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| No_Error | 0 |
| Error | 1 |

#### Reserved_Flags { #EVSE_Information-Reserved_Flags }

Reserved bits for future uses.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 41 | 7 | Unsigned |  | 1 | 0 |  |  |


<a id="AC_Control"></a>
## AC_Control { #AC_Control }


| * | * |
|---|---|
| **Frame ID** | 0x601 |
| **Length [Bytes]** | 1 |
| **Periodicity [ms]** | 100 |
| **Direction** | OUT |

### Description

AC charging specific control (from charge controller to on-board charger).

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| Ready_To_Deliver_Power | 1 | Label set |
| Reserved_Flags | 7 | Unsigned |

### Payload description

#### Ready_To_Deliver_Power { #AC_Control-Ready_To_Deliver_Power }

EVSE is in position of delivering power.

WARNING: Does not mean that power is currently being delivered!

When going to __Ready__, the on-board charger should set its
&lt;&lt;AC_Status.Ready_To_Charge&gt;&gt; flag, and THEN start to draw current.

When going to __Not_Ready__ it means the AC source request a normal stop.
On-board charger should stop drawing current and THEN set its
&lt;&lt;AC_Status.Ready_To_Charge&gt;&gt; flag to 0.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Not_Ready | 0 |
| Ready | 1 |

#### Reserved_Flags { #AC_Control-Reserved_Flags }

Reserved bits for future uses.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 1 | 7 | Unsigned |  | 1 | 0 |  |  |


<a id="DC_Control"></a>
## DC_Control { #DC_Control }


| * | * |
|---|---|
| **Frame ID** | 0x602 |
| **Length [Bytes]** | 1 |
| **Periodicity [ms]** | 100 |
| **Direction** | OUT |

### Description

DC charging specific control (from charge controller to BMS).

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| Close_Contactors | 1 | Label set |
| Reserved_Flags | 7 | Unsigned |

### Payload description

#### Close_Contactors { #DC_Control-Close_Contactors }

Request for closing contactors. Close contactors when 1. Open them when 0.
If the message does not come after 1s timeout, consider it to be an emergency
situation and open contactors.

Alternatively, ADM-CS-EVCC unit has DC contactor drivers. To use them directly
instead of this CAN signal, enable them in the `/srv/config.cfg` file:

    [vehicle]
    dc_contactors_use_ios = true

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Open | 0 |
| Close | 1 |

#### Reserved_Flags { #DC_Control-Reserved_Flags }

Reserved bits for future uses.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 1 | 7 | Unsigned |  | 1 | 0 |  |  |


<a id="CCS_Extra_Information"></a>
## CCS_Extra_Information { #CCS_Extra_Information }


| * | * |
|---|---|
| **Frame ID** | 0x603 |
| **Length [Bytes]** | 6 |
| **Periodicity [ms]** | 100 |
| **Direction** | OUT |

### Description

Extra information from CCS (for information only).

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| CP_Duty_Cycle | 16 | Unsigned |
| CP_Top_Voltage | 8 | Unsigned |
| CP_State | 8 | Label set |
| PP_Resistance | 8 | Unsigned |
| Inlet_Lock_State | 2 | Label set |
| Reserved_Flags | 6 | Unsigned |

### Payload description

#### CP_Duty_Cycle { #CCS_Extra_Information-CP_Duty_Cycle }

Measured PWM duty cycle on the CP line.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 16 | Unsigned | % | 0.1 | 0 | 0 | 100 |

#### CP_Top_Voltage { #CCS_Extra_Information-CP_Top_Voltage }

Measured PWM top voltage on the CP line.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 16 | 8 | Unsigned | Volts | 0.1 | 0 |  |  |

#### CP_State { #CCS_Extra_Information-CP_State }

Measured CP state.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 24 | 8 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| E_or_F | 0 |
| D | 3 |
| C | 6 |
| B | 9 |
| A | 12 |

#### PP_Resistance { #CCS_Extra_Information-PP_Resistance }

Measured resistance from PP. 2550 Ohms means disconnected.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 32 | 8 | Unsigned | Ohms | 10 | 0 | 0 | 2550 |

#### Inlet_Lock_State { #CCS_Extra_Information-Inlet_Lock_State }

CCS Inlet lock state.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 40 | 2 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Unlocked | 0 |
| Locked | 1 |
| Fault | 2 |

#### Reserved_Flags { #CCS_Extra_Information-Reserved_Flags }

Reserved bits for future uses.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 42 | 6 | Unsigned |  | 1 | 0 |  |  |


<a id="ADM_CS_EVCC_Inputs"></a>
## ADM_CS_EVCC_Inputs { #ADM_CS_EVCC_Inputs }


| * | * |
|---|---|
| **Frame ID** | 0x604 |
| **Length [Bytes]** | 6 |
| **Periodicity [ms]** | 1000 |
| **Direction** | OUT |

### Description

Controller (ADM-CS-EVCC hardware variant) is reporting various information
about its inputs. It is sent every seconds (for temperature channels).
Or on change for other digital inputs.

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| DC_Contactor_Positive_Feedback | 1 | Label set |
| DC_Contactor_Negative_Feedback | 1 | Label set |
| Digital_Input1 | 1 | Single bit |
| Digital_Input2 | 1 | Single bit |
| Stop_Charge | 1 | Label set |
| Reserved_Flags | 3 | Unsigned |
| PTC0 | 8 | Unsigned |
| PTC1 | 8 | Unsigned |
| PTC2 | 8 | Unsigned |
| CPU_Temperature | 8 | Unsigned |
| CAN_Sensor_Temperature | 8 | Unsigned |

### Payload description

#### DC_Contactor_Positive_Feedback { #ADM_CS_EVCC_Inputs-DC_Contactor_Positive_Feedback }

Reports the logical state of R-2E.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Open | 0 |
| Close | 1 |

#### DC_Contactor_Negative_Feedback { #ADM_CS_EVCC_Inputs-DC_Contactor_Negative_Feedback }

Reports the logical state of R-2F.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 1 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Open | 0 |
| Close | 1 |

#### Digital_Input1 { #ADM_CS_EVCC_Inputs-Digital_Input1 }

Reports the logical state of R-1G.
Needs to be declared as monitored in `/srv/config.cfg`:

    [hardware]
    dig_in1 = Monitor

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 2 | 1 | Single bit |  | 1 | 0 | 0 | 1 |

#### Digital_Input2 { #ADM_CS_EVCC_Inputs-Digital_Input2 }

Reports the logical state of R-2G.
Needs to be declared as monitored in `/srv/config.cfg`:

    [hardware]
    dig_in2 = Monitor

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 3 | 1 | Single bit |  | 1 | 0 | 0 | 1 |

#### Stop_Charge { #ADM_CS_EVCC_Inputs-Stop_Charge }

Reports the logical state of R-3F (or any other input declared as Stop function).

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 4 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| No_Request | 0 |
| Stop_Requested | 1 |

#### Reserved_Flags { #ADM_CS_EVCC_Inputs-Reserved_Flags }

Reserved bits for future uses.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 5 | 3 | Unsigned |  | 1 | 0 |  |  |

#### PTC0 { #ADM_CS_EVCC_Inputs-PTC0 }

Measured temperature sensor on L-2D.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 8 | 8 | Unsigned | °C | 1 | -40 | -40 | 215 |

#### PTC1 { #ADM_CS_EVCC_Inputs-PTC1 }

Measured temperature sensor on L-1E.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 16 | 8 | Unsigned | °C | 1 | -40 | -40 | 215 |

#### PTC2 { #ADM_CS_EVCC_Inputs-PTC2 }

Measured temperature sensor on L-3E.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 24 | 8 | Unsigned | °C | 1 | -40 | -40 | 215 |

#### CPU_Temperature { #ADM_CS_EVCC_Inputs-CPU_Temperature }

Temperature reported by the CPU chip of the charge controller.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 32 | 8 | Unsigned | °C | 1 | -40 | -40 | 215 |

#### CAN_Sensor_Temperature { #ADM_CS_EVCC_Inputs-CAN_Sensor_Temperature }

If using a CAN sensor, and it has a temperature channel.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 40 | 8 | Unsigned | °C | 1 | -40 | -40 | 215 |


<a id="EVCC_MEVC_Diagnostic_Status"></a>
## EVCC_MEVC_Diagnostic_Status { #EVCC_MEVC_Diagnostic_Status }


| * | * |
|---|---|
| **Frame ID** | 0x605 |
| **Length [Bytes]** | 8 |
| **Periodicity [ms]** | 100 |
| **Direction** | OUT |

### Description

Diagnostic status of the charge controller.
This message gets reset to default values when the controller the state cycles back to
Communication_Stage.Waiting_For_EVSE

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| LockFailure | 1 | Single bit |
| UnlockDeclinedInletEnergized | 1 | Single bit |
| HighTemperature | 1 | Single bit |
| ContactorFault | 1 | Single bit |
| VoltageDeviation | 1 | Single bit |
| CurrentDeviation | 1 | Single bit |
| PrechargeTimeout | 1 | Single bit |
| ProximityPilotNotDetected | 1 | Single bit |
| InsertionDetectionNotDetected | 1 | Single bit |
| ControlPilotFault | 1 | Single bit |
| ChargeEnableFault | 1 | Single bit |
| ControlPilotDutyCycleUnexpected | 1 | Single bit |
| ControlPilotStateUnexpected | 1 | Single bit |
| ChargeEnableStateUnexpected | 1 | Single bit |
| ControlPilotStateNotSupported | 1 | Single bit |
| PLCFault | 1 | Single bit |
| V2GTPTLSError | 1 | Single bit |
| V2GTPAuthorizationFailure | 1 | Single bit |
| V2GTPServiceSelectionFailure | 1 | Single bit |
| V2GTPProtocolVersionInvalid | 1 | Single bit |
| V2GTPSessionIDUnexpected | 1 | Single bit |
| V2GTPPayloadInvalid | 1 | Single bit |
| V2GTPEnergyTransferModeNotSupported | 1 | Single bit |
| V2GTPSequenceError | 1 | Single bit |
| V2GTPSequenceTimeout | 1 | Single bit |
| SDPError | 1 | Single bit |
| Reserved_Flags | 22 | Unsigned |
| HLC_ResponseCode | 8 | Label set |
| EVSE_StatusCode | 4 | Label set |
| EVSE_Isolation_Level | 4 | Label set |

### Payload description

#### LockFailure { #EVCC_MEVC_Diagnostic_Status-LockFailure }

Indicates a failure in locking the connector.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 1 | Single bit |  | 1 | 0 |  |  |

#### UnlockDeclinedInletEnergized { #EVCC_MEVC_Diagnostic_Status-UnlockDeclinedInletEnergized }

Unlock request declined due to voltage/current measured at the inlet.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 1 | 1 | Single bit |  | 1 | 0 |  |  |

#### HighTemperature { #EVCC_MEVC_Diagnostic_Status-HighTemperature }

Error due to high temperature detected.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 2 | 1 | Single bit |  | 1 | 0 |  |  |

#### ContactorFault { #EVCC_MEVC_Diagnostic_Status-ContactorFault }

Indicates a contactor fault. Can also be caused by wrong wiring or configuration of contactor feedbacks.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 3 | 1 | Single bit |  | 1 | 0 |  |  |

#### VoltageDeviation { #EVCC_MEVC_Diagnostic_Status-VoltageDeviation }

Voltage deviation detected beyond allowed limits.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 4 | 1 | Single bit |  | 1 | 0 |  |  |

#### CurrentDeviation { #EVCC_MEVC_Diagnostic_Status-CurrentDeviation }

Current deviation detected beyond allowed limits.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 5 | 1 | Single bit |  | 1 | 0 |  |  |

#### PrechargeTimeout { #EVCC_MEVC_Diagnostic_Status-PrechargeTimeout }

Precharge process did not complete within the expected time.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 6 | 1 | Single bit |  | 1 | 0 |  |  |

#### ProximityPilotNotDetected { #EVCC_MEVC_Diagnostic_Status-ProximityPilotNotDetected }

CCS PP signal not detected.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 7 | 1 | Single bit |  | 1 | 0 |  |  |

#### InsertionDetectionNotDetected { #EVCC_MEVC_Diagnostic_Status-InsertionDetectionNotDetected }

MCS ID signal not detected.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 8 | 1 | Single bit |  | 1 | 0 |  |  |

#### ControlPilotFault { #EVCC_MEVC_Diagnostic_Status-ControlPilotFault }

Fault detected on the CCS CP line.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 9 | 1 | Single bit |  | 1 | 0 |  |  |

#### ChargeEnableFault { #EVCC_MEVC_Diagnostic_Status-ChargeEnableFault }

Fault detected in MCS CE line.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 10 | 1 | Single bit |  | 1 | 0 |  |  |

#### ControlPilotDutyCycleUnexpected { #EVCC_MEVC_Diagnostic_Status-ControlPilotDutyCycleUnexpected }

Unexpected duty cycle detected on CCS CP line.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 11 | 1 | Single bit |  | 1 | 0 |  |  |

#### ControlPilotStateUnexpected { #EVCC_MEVC_Diagnostic_Status-ControlPilotStateUnexpected }

Unexpected state detected on CCS CP line.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 12 | 1 | Single bit |  | 1 | 0 |  |  |

#### ChargeEnableStateUnexpected { #EVCC_MEVC_Diagnostic_Status-ChargeEnableStateUnexpected }

Unexpected state detected in MCS CE line.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 13 | 1 | Single bit |  | 1 | 0 |  |  |

#### ControlPilotStateNotSupported { #EVCC_MEVC_Diagnostic_Status-ControlPilotStateNotSupported }

CCS CP state not supported by the system.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 14 | 1 | Single bit |  | 1 | 0 |  |  |

#### PLCFault { #EVCC_MEVC_Diagnostic_Status-PLCFault }

Power Line Communication (PLC) fault detected.
This is a generic flag, for more specific information (when available) refer to the V2GTP* flags below.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 15 | 1 | Single bit |  | 1 | 0 |  |  |

#### V2GTPTLSError { #EVCC_MEVC_Diagnostic_Status-V2GTPTLSError }

V2GTP TLS error occurred during communication.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 16 | 1 | Single bit |  | 1 | 0 |  |  |

#### V2GTPAuthorizationFailure { #EVCC_MEVC_Diagnostic_Status-V2GTPAuthorizationFailure }

V2GTP authorization process failed.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 17 | 1 | Single bit |  | 1 | 0 |  |  |

#### V2GTPServiceSelectionFailure { #EVCC_MEVC_Diagnostic_Status-V2GTPServiceSelectionFailure }

V2GTP service selection failed.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 18 | 1 | Single bit |  | 1 | 0 |  |  |

#### V2GTPProtocolVersionInvalid { #EVCC_MEVC_Diagnostic_Status-V2GTPProtocolVersionInvalid }

Invalid V2GTP protocol version detected.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 19 | 1 | Single bit |  | 1 | 0 |  |  |

#### V2GTPSessionIDUnexpected { #EVCC_MEVC_Diagnostic_Status-V2GTPSessionIDUnexpected }

Unexpected V2GTP session ID encountered.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 20 | 1 | Single bit |  | 1 | 0 |  |  |

#### V2GTPPayloadInvalid { #EVCC_MEVC_Diagnostic_Status-V2GTPPayloadInvalid }

Invalid payload detected in V2GTP communication.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 21 | 1 | Single bit |  | 1 | 0 |  |  |

#### V2GTPEnergyTransferModeNotSupported { #EVCC_MEVC_Diagnostic_Status-V2GTPEnergyTransferModeNotSupported }

V2GTP energy transfer mode not supported.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 22 | 1 | Single bit |  | 1 | 0 |  |  |

#### V2GTPSequenceError { #EVCC_MEVC_Diagnostic_Status-V2GTPSequenceError }

Sequence error detected in V2GTP communication.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 23 | 1 | Single bit |  | 1 | 0 |  |  |

#### V2GTPSequenceTimeout { #EVCC_MEVC_Diagnostic_Status-V2GTPSequenceTimeout }

Timeout occurred in V2GTP sequence.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 24 | 1 | Single bit |  | 1 | 0 |  |  |

#### SDPError { #EVCC_MEVC_Diagnostic_Status-SDPError }

Service Discovery Protocol (SDP) error detected.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 25 | 1 | Single bit |  | 1 | 0 |  |  |

#### Reserved_Flags { #EVCC_MEVC_Diagnostic_Status-Reserved_Flags }

Reserved bits for future uses.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 26 | 22 | Unsigned |  | 1 | 0 |  |  |

#### HLC_ResponseCode { #EVCC_MEVC_Diagnostic_Status-HLC_ResponseCode }

High-Level Communication (HLC) response codes for EVSE communication protocols.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 48 | 8 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Undefined | 0 |
| OK | 1 |
| OK_CertificateExpiresSoon | 2 |
| OK_NewSessionEstablished | 3 |
| OK_OldSessionJoined | 4 |
| OK_PowerToleranceConfirmed | 5 |
| WARNING_AuthorizationSelectionInvalid | 6 |
| WARNING_CertificateExpired | 7 |
| WARNING_CertificateNotYetValid | 8 |
| WARNING_CertificateRevoked | 9 |
| WARNING_CertificateValidationError | 10 |
| WARNING_ChallengeInvalid | 11 |
| WARNING_EIMAuthorizationFailure | 12 |
| WARNING_eMSPUnknown | 13 |
| WARNING_EVPowerProfileViolation | 14 |
| WARNING_GeneralPnCAuthorizationError | 15 |
| WARNING_NoCertificateAvailable | 16 |
| WARNING_NoContractMatchingPCIDFound | 17 |
| WARNING_PowerToleranceNotConfirmed | 18 |
| WARNING_ScheduleRenegotiationFailed | 19 |
| WARNING_StandbyNotAllowed | 20 |
| WARNING_WPT | 21 |
| FAILED | 22 |
| FAILED_AssociationError | 23 |
| FAILED_ContactorError | 24 |
| FAILED_EVPowerProfileInvalid | 25 |
| FAILED_EVPowerProfileViolation | 26 |
| FAILED_MeteringSignatureNotValid | 27 |
| FAILED_NoEnergyTransferServiceSelected | 28 |
| FAILED_NoServiceRenegotiationSupported | 29 |
| FAILED_PauseNotAllowed | 30 |
| FAILED_PowerDeliveryNotApplied | 31 |
| FAILED_PowerToleranceNotConfirmed | 32 |
| FAILED_ScheduleRenegotiation | 33 |
| FAILED_ScheduleSelectionInvalid | 34 |
| FAILED_SequenceError | 35 |
| FAILED_ServiceIDInvalid | 36 |
| FAILED_ServiceSelectionInvalid | 37 |
| FAILED_SignatureError | 38 |
| FAILED_UnknownSession | 39 |
| FAILED_WrongChargeParameter | 40 |
| FAILED_PaymentSelectionInvalid | 41 |
| FAILED_CertificateExpired | 42 |
| FAILED_CertChainError | 43 |
| FAILED_ChallengeInvalid | 44 |
| FAILED_ContractCanceled | 45 |
| FAILED_TariffSelectionInvalid | 46 |
| FAILED_ChargingProfileInvalid | 47 |
| FAILED_NoChargeServiceSelected | 48 |
| FAILED_WrongEnergyTransferMode | 49 |
| FAILED_CertificateNotAllowedAtThisEVSE | 50 |
| FAILED_CertificateRevoked | 51 |
| FAILED_EVSEPresentVoltageToLow | 52 |
| FAILED_WrongEnergyTransferType | 53 |

#### EVSE_StatusCode { #EVCC_MEVC_Diagnostic_Status-EVSE_StatusCode }

Only relevant for DIN SPEC 70121 and ISO 15118-2 protocols.
(was removed in ISO 15118-20)

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 56 | 4 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Undefined | 0 |
| EVSE_NotReady | 1 |
| EVSE_Ready | 2 |
| EVSE_Shutdown | 3 |
| EVSE_UtilityInterruptEvent | 4 |
| EVSE_IsolationMonitoringActive | 5 |
| EVSE_EmergencyShutdown | 6 |
| EVSE_Malfunction | 7 |
| Invalid | 8 |

#### EVSE_Isolation_Level { #EVCC_MEVC_Diagnostic_Status-EVSE_Isolation_Level }

Only relevant for DIN SPEC 70121 and ISO 15118-2 protocols.
(was removed in ISO 15118-20)

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 60 | 4 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Undefined | 0 |
| Invalid | 1 |
| Valid | 2 |
| Warning | 3 |
| Fault | 4 |
| No_IMD | 5 |


<a id="EV_Information"></a>
## EV_Information { #EV_Information }


| * | * |
|---|---|
| **Frame ID** | 0x610 |
| **Length [Bytes]** | 3 |
| **Periodicity [ms]** | 100 |
| **Direction** | IN |

### Description

Information provided by the vehicle.

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| State_of_Charge | 8 | Unsigned |
| Energy_Capacity | 16 | Unsigned |

### Payload description

#### State_of_Charge { #EV_Information-State_of_Charge }

Battery SoC in percent (only used in HLC mode).

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 8 | Unsigned | % | 1 | 0 | 0 | 100 |

#### Energy_Capacity { #EV_Information-Energy_Capacity }

The energy capacity of the EV battery.
In case this value is 0 we default to the config file entry `energy_capacity`.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 8 | 16 | Unsigned | kWh | 0.1 | 0 | 0 | 6553 |


<a id="AC_Status"></a>
## AC_Status { #AC_Status }


| * | * |
|---|---|
| **Frame ID** | 0x611 |
| **Length [Bytes]** | 1 |
| **Periodicity [ms]** | 100 |
| **Direction** | IN |

### Description

AC charging specific status (from on-board charger to charge controller).

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| Ready_To_Charge | 1 | Label set |
| Reserved_Flags | 7 | Unsigned |

### Payload description

#### Ready_To_Charge { #AC_Status-Ready_To_Charge }

On-board charger is ready to charge (corresponds to asserting CP state C/D).
You should set it to 1 before starting to draw current.
And set it to 0 after current draw stops.

Only exception is in case of emergency stop, where you can set it to 0 without
waiting for the current draw to stop beforehand.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Not_Ready | 0 |
| Ready | 1 |

#### Reserved_Flags { #AC_Status-Reserved_Flags }

Reserved bits for future uses.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 1 | 7 | Unsigned |  | 1 | 0 |  |  |


<a id="DC_Status1"></a>
## DC_Status1 { #DC_Status1 }


| * | * |
|---|---|
| **Frame ID** | 0x612 |
| **Length [Bytes]** | 8 |
| **Periodicity [ms]** | 100 |
| **Direction** | IN |

### Description

DC charging specific status (from BMS to charge controller), message 1.

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| Max_Charge_Current | 16 | Signed |
| Present_Current | 16 | Signed |
| Max_Discharge_Current | 16 | Unsigned |
| Target_Voltage | 16 | Unsigned |

### Payload description

#### Max_Charge_Current { #DC_Status1-Max_Charge_Current }

Used as the target current sent to EVSE except for power transfer with CCS ISO15118-20 Dynamic mode,
this signal will be used as the EV Maximum charge current. Note that negative values will be
disregarded in CCS ISO 15118-20 Dynamic mode.

This signal can be dynamically updated by the BMS to limit the charge current

Will be capped by maximum current from config file and from EVSE data.

When in &lt;&lt;No BMS mode&gt;&gt;, the target current will be set to the config file
entry &quot;max_current&quot;. When doing so, you should set a safe `max_charge_voltage` to terminate the
charge earlier than at full pack (ie. bulk charging):

    [vehicle]
    no_bms = true
    max_current = 20
    max_charge_voltage = 380
    target_voltage = 410
    max_voltage = 450

In no BMS mode, this signal will be ignored.

NOTE: Signal is of signed data type for compatibility with future bidirectional
implementations.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 16 | Signed | Amps | 1 | 0 | -32768 | 32767 |

#### Present_Current { #DC_Status1-Present_Current }

Measurement of current flowing in or out of the battery.

Alternatively, this information can be obtained by using a supported CAN sensor.
Declare it as such in `/srv/config.cfg`:

    [vehicle]
    use_can_sensor = Isabellenhutte IVT-S

In such case, this signal will be ignored.
Refer to &lt;&lt;CAN sensor&gt;&gt; documentation to know how the sensor should be wired.

NOTE: Signal is of signed data type for compatibility with future bidirectional
implementations.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 16 | 16 | Signed | Amps | 1 | 0 | -32768 | 32767 |

#### Max_Discharge_Current { #DC_Status1-Max_Discharge_Current }

Only taken into account in CCS ISO15118-20 Dynamic mode.
This signal can be used to dynamically update the EV Maximum Discharge current.

This signal can be dynamically updated by the BMS to limit the discharge current

Note that negative values will be disregarded.
Will be capped by max_discharge_current from config file.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 32 | 16 | Unsigned | Amps | 1 | 0 | 0 | 65535 |

#### Target_Voltage { #DC_Status1-Target_Voltage }

Allows dynamic target voltage updates.
Will be capped by maximum voltage from config file and from EVSE data.
Only taken into account when the config entry dynamic_target_voltage is set to true.
Declare it as such in `/srv/config.cfg`:

    [vehicle]
    dynamic_target_voltage = True

Note: This signal will be ignored if the config entry dynamic_target_voltage is set to false.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 48 | 16 | Unsigned | Volts | 1 | 0 | 0 | 65535 |


<a id="DC_Status2"></a>
## DC_Status2 { #DC_Status2 }


| * | * |
|---|---|
| **Frame ID** | 0x613 |
| **Length [Bytes]** | 5 |
| **Periodicity [ms]** | 100 |
| **Direction** | IN |

### Description

DC charging specific status (from BMS to charge controller), message 2.

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| Contactors_Closed | 1 | Label set |
| Normal_End_of_Charge | 1 | Label set |
| Emergency_Stop | 1 | Label set |
| Reserved_Flags | 5 | Unsigned |
| Battery_Voltage | 16 | Unsigned |
| Inlet_Voltage | 16 | Unsigned |

### Payload description

#### Contactors_Closed { #DC_Status2-Contactors_Closed }

Report states of contactors.

Alternatively, ADM-CS-EVCC unit has DC contactors feedback inputs.
To use them directly instead of this CAN signal, enable them in
the `/srv/config.cfg` file:

    [vehicle]
    dc_contactors_use_ios = true

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Open | 0 |
| Close | 1 |

#### Normal_End_of_Charge { #DC_Status2-Normal_End_of_Charge }

Vehicle request a normal charge termination
(user request, or soft battery voltage limit reached (eg. bulk charging)).

Only acts on change (so you need to cycle it back to 0).

Alternatively, you can also use the 12V input (R-3F) on ADM-CS-EVCC unit.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 1 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| No_Request | 0 |
| Stop_Requested | 1 |

#### Emergency_Stop { #DC_Status2-Emergency_Stop }

Vehicle request an emergency charge termination
Only acts on change (so you need to cycle it back to 0).

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 2 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| No_Request | 0 |
| Emergency_Stop_Requested | 1 |

#### Reserved_Flags { #DC_Status2-Reserved_Flags }

Reserved bits for future uses.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 3 | 5 | Unsigned |  | 1 | 0 |  |  |

#### Battery_Voltage { #DC_Status2-Battery_Voltage }

Measurement of battery pack voltage.

Alternatively, this information can be obtained by using a supported CAN sensor.
Declare it as such in `/srv/config.cfg`:

    [vehicle]
    use_can_sensor = Isabellenhutte IVT-S

In such case, this signal will be ignored.
Refer to &lt;&lt;CAN sensor&gt;&gt; documentation to know how the sensor should be wired.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 8 | 16 | Unsigned | Volts | 0.1 | 0 | 0 | 6553 |

#### Inlet_Voltage { #DC_Status2-Inlet_Voltage }

Measurement of inlet voltage (ie. before contactors).

Alternatively, this information can be obtained by using a supported CAN sensor.
Declare it as such in `/srv/config.cfg`:

    [vehicle]
    use_can_sensor = Isabellenhutte IVT-S

In such case, this signal will be ignored.
Refer to &lt;&lt;CAN sensor&gt;&gt; documentation to know how the sensor should be wired.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 24 | 16 | Unsigned | Volts | 0.1 | 0 | 0 | 6553 |


<a id="EV_Energy_Request"></a>
## EV_Energy_Request { #EV_Energy_Request }


| * | * |
|---|---|
| **Frame ID** | 0x614 |
| **Length [Bytes]** | 6 |
| **Periodicity [ms]** | 100 |
| **Direction** | IN |

### Description

ISO 15118-20 specific message.
The energy of the EV corresponding to the SOC specified by the owner.
The energy request is represented by an energy range including a target energy request.

Energy requests should satisfy the following relationship:
Minimum_Energy_Request ≤ Target_Energy_Request ≤ Maximum_Energy_Request

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| Target_Energy_Request | 16 | Unsigned |
| Maximum_Energy_Request | 16 | Unsigned |
| Minimum_Energy_Request | 16 | Unsigned |

### Payload description

#### Target_Energy_Request { #EV_Energy_Request-Target_Energy_Request }

The energy of the EV corresponding to the target SOC.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 16 | Unsigned | kWh | 0.1 | 0 | 0 | 6553 |

#### Maximum_Energy_Request { #EV_Energy_Request-Maximum_Energy_Request }

The energy of the EV corresponding the to maximum SOC.

In case this message is not sent we default to the config file entry `max_energy_request`.

Will be capped by Energy_Capacity.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 16 | 16 | Unsigned | kWh | 0.1 | 0 | 0 | 6553 |

#### Minimum_Energy_Request { #EV_Energy_Request-Minimum_Energy_Request }

The energy of the EV corresponding to the minimum SOC.
In case this message is not sent we default to the config file entry `min_energy_request`.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 32 | 16 | Unsigned | kWh | 0.1 | 0 | 0 | 6553 |


<a id="EV_V2X_Energy_Request"></a>
## EV_V2X_Energy_Request { #EV_V2X_Energy_Request }


| * | * |
|---|---|
| **Frame ID** | 0x615 |
| **Length [Bytes]** | 4 |
| **Periodicity [ms]** | 100 |
| **Direction** | IN |

### Description

ISO 15118-20 specific message. (Optional)
Indicates a preferred operational V2X range for bidirectional cycling.
V2X energy requests should satisfy the following relationships:
Minimum_Energy_Request ≤ Minimum_V2X_Energy_Request
Maximum_V2X_Energy_Request ≤ Maximum_Energy_Request

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| Minimum_V2X_Energy_Request | 16 | Unsigned |
| Maximum_V2X_Energy_Request | 16 | Unsigned |

### Payload description

#### Minimum_V2X_Energy_Request { #EV_V2X_Energy_Request-Minimum_V2X_Energy_Request }

The minimum energy level for the bidirectional cycling activity range.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 16 | Unsigned | kWh | 0.1 | 0 | 0 | 6553 |

#### Maximum_V2X_Energy_Request { #EV_V2X_Energy_Request-Maximum_V2X_Energy_Request }

The maximum energy level for the bidirectional cycling activity range.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 16 | 16 | Unsigned | kWh | 0.1 | 0 | 0 | 6553 |


<a id="EV_Extra_BPT_Information"></a>
## EV_Extra_BPT_Information { #EV_Extra_BPT_Information }


| * | * |
|---|---|
| **Frame ID** | 0x616 |
| **Length [Bytes]** | 4 |
| **Periodicity [ms]** | 100 |
| **Direction** | IN |

### Description

ISO 15118-20 specific message.
EV extra bidirectional power transfer information.

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| Departure_Time | 32 | Unsigned |

### Payload description

#### Departure_Time { #EV_Extra_BPT_Information-Departure_Time }

Indicate when the EV intends to finish the charging process
The offset in seconds from the point in time of sending this message.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 32 | Unsigned | Seconds | 1 | 0 | 0 | 4294967296 |


<a id="ADM_CS_EVCC_MEVC_Outputs"></a>
## ADM_CS_EVCC_MEVC_Outputs { #ADM_CS_EVCC_MEVC_Outputs }


| * | * |
|---|---|
| **Frame ID** | 0x617 |
| **Length [Bytes]** | 8 |
| **Periodicity [ms]** | 1000 |
| **Direction** | IN |

### Description

Controller (ADM-CS-EVCC and ADM-CS-MEVC hardware variant) has various outputs that
can be controlled through this message.

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| Digital_Output1 | 1 | Single bit |
| Digital_Output2 | 1 | Single bit |
| Digital_Output3 | 1 | Single bit |
| Reserved | 37 | Unsigned |
| Led1 | 8 | Unsigned |
| Led2 | 8 | Unsigned |
| Led3 | 8 | Unsigned |

### Payload description

#### Digital_Output1 { #ADM_CS_EVCC_MEVC_Outputs-Digital_Output1 }

Sets the logical state of DIG_OUT1.
Needs to be declared as monitored in `/srv/config.cfg`:

    [hardware]
    dig_out1 = CAN_Controlled

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 1 | Single bit |  | 1 | 0 | 0 | 1 |

#### Digital_Output2 { #ADM_CS_EVCC_MEVC_Outputs-Digital_Output2 }

Reports the logical state of DIG_OUT2.
Needs to be declared as monitored in `/srv/config.cfg`:

    [hardware]
    dig_out2 = CAN_Controlled

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 1 | 1 | Single bit |  | 1 | 0 | 0 | 1 |

#### Digital_Output3 { #ADM_CS_EVCC_MEVC_Outputs-Digital_Output3 }

Reports the logical state of DIG_OUT3.
Needs to be declared as monitored in `/srv/config.cfg`:

    [hardware]
    dig_out3 = CAN_Controlled

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 2 | 1 | Single bit |  | 1 | 0 | 0 | 1 |

#### Reserved { #ADM_CS_EVCC_MEVC_Outputs-Reserved }

Padding bits between digital outputs and leds.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 3 | 37 | Unsigned |  | 1 | 0 |  |  |

#### Led1 { #ADM_CS_EVCC_MEVC_Outputs-Led1 }

Sets the brightness of LED1 (3C1) in a scale from 1 to 100.
Greater values than 100 will be treated as max brigthness.
Needs to be declared as monitored in `/srv/config.cfg`:

    [hardware]
    led1 = CAN_Controlled

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 40 | 8 | Unsigned |  | 1 | 0 | 0 | 255 |

#### Led2 { #ADM_CS_EVCC_MEVC_Outputs-Led2 }

Sets the brightness of LED2 (3C2) in a scale from 1 to 100.
Greater values than 100 will be treated as max brigthness.
Needs to be declared as monitored in `/srv/config.cfg`:

    [hardware]
    led2 = CAN_Controlled

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 48 | 8 | Unsigned |  | 1 | 0 | 0 | 255 |

#### Led3 { #ADM_CS_EVCC_MEVC_Outputs-Led3 }

Sets the brightness of LED3 (3C3) in a scale from 1 to 100.
Greater values than 100 will be treated as max brigthness.
Needs to be declared as monitored in `/srv/config.cfg`:

    [hardware]
    led3 = CAN_Controlled

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 56 | 8 | Unsigned |  | 1 | 0 | 0 | 255 |


<a id="EV_Status"></a>
## EV_Status { #EV_Status }


| * | * |
|---|---|
| **Frame ID** | 0x618 |
| **Length [Bytes]** | 8 |
| **Periodicity [ms]** | 100 |
| **Direction** | IN |

### Description

Used to report the status of the EV (from BMS to charge controller)

### Payload

| Signal | Length (bits) | Type |
|--------|---------------|------|
| HV_Preparing_Hold_Off | 1 | Label set |
| Reserved_Flags | 63 | Unsigned |

### Payload description

#### HV_Preparing_Hold_Off { #EV_Status-HV_Preparing_Hold_Off }

Allows the vehicle to delay the transition to powered states (powered states start from the insulation test) until the HV system is ready.
Can be set at any time before Communication_Stage.Connected_With_Full_Info state.

Use cases:

- Make sure the vehicle IMD is disabled before sending cablecheck request.
- Wait while preparing the HV system for power.

This signal should be set to 0 if the vehicle is ready for power.
When the charger is plugged-in and this signal is set to 1, the session will block at Communication_Stage.Connected_With_Full_Info state until this signal is set to 0 (and the inlet is locked).

0=False (Hold off Not Requested), 1=True (Hold off)

Note: limited by wait_hv_ready_timeout_ms config entry. Default is 40 seconds (defined by the standards):

    [ccs]
    wait_hv_ready_timeout_ms = 40000

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 0 | 1 | Label set |  | 1 | 0 |  |  |

| Label name | Value |
|------------|-------|
| Hold_Off_Not_Requested | 0 |
| Hold_Off | 1 |

#### Reserved_Flags { #EV_Status-Reserved_Flags }

Reserved bits for future uses.

| Start bit | Length (bits) | Type | Unit | Scale | Offset | Min | Max |
|-----------|---------------|------|------|-------|--------|-----|-----|
| 1 | 63 | Unsigned |  | 1 | 0 |  |  |
