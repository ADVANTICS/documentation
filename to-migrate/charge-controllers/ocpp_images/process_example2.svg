<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1666px" preserveAspectRatio="none" style="width:1060px;height:1666px;" version="1.1" viewBox="0 0 1060 1666" width="1060px" zoomAndPan="magnify"><defs><filter height="300%" id="fqgoyftisk2vi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fqgoyftisk2vi)" height="1225.3125" style="stroke: #000000; stroke-width: 2.0;" width="1025" x="13" y="337.3594"/><rect fill="#FFFFFF" filter="url(#fqgoyftisk2vi)" height="133.6641" style="stroke: #000000; stroke-width: 2.0;" width="778.5" x="249.5" y="680.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="39" x2="39" y1="86.2969" y2="1579.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="106" x2="106" y1="86.2969" y2="1579.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="338.5" x2="338.5" y1="86.2969" y2="1579.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="585" x2="585" y1="86.2969" y2="1579.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="765.5" x2="765.5" y1="86.2969" y2="1579.6719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="963" x2="963" y1="86.2969" y2="1579.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="27" y="82.9951">EV</text><ellipse cx="39" cy="54" fill="#FEFECE" filter="url(#fqgoyftisk2vi)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="27" x2="51" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="27" y="1591.667">EV</text><ellipse cx="39" cy="1610.9688" fill="#FEFECE" filter="url(#fqgoyftisk2vi)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="27" x2="51" y1="1624.9688" y2="1624.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="69" y="82.9951">Customer</text><ellipse cx="106" cy="13" fill="#FEFECE" filter="url(#fqgoyftisk2vi)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M106,21 L106,48 M93,29 L119,29 M106,48 L93,63 M106,48 L119,63 " fill="none" filter="url(#fqgoyftisk2vi)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="69" y="1591.667">Customer</text><ellipse cx="106" cy="1604.9688" fill="#FEFECE" filter="url(#fqgoyftisk2vi)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M106,1612.9688 L106,1639.9688 M93,1620.9688 L119,1620.9688 M106,1639.9688 L93,1654.9688 M106,1639.9688 L119,1654.9688 " fill="none" filter="url(#fqgoyftisk2vi)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="259.5" y="82.9951">Third-Party Application</text><path d="M318.5,42 L318.5,66 M318.5,54 L335.5,54 " fill="none" filter="url(#fqgoyftisk2vi)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="347.5" cy="54" fill="#FEFECE" filter="url(#fqgoyftisk2vi)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="259.5" y="1591.667">Third-Party Application</text><path d="M318.5,1598.9688 L318.5,1622.9688 M318.5,1610.9688 L335.5,1610.9688 " fill="none" filter="url(#fqgoyftisk2vi)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="347.5" cy="1610.9688" fill="#FEFECE" filter="url(#fqgoyftisk2vi)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fqgoyftisk2vi)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="517" y="34.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="543.5" y="54.6982">ADVANTICS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="524" y="70.9951">OCPP Application</text><rect fill="#FEFECE" filter="url(#fqgoyftisk2vi)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="517" y="1578.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="543.5" y="1598.667">ADVANTICS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="524" y="1614.9639">OCPP Application</text><rect fill="#FEFECE" filter="url(#fqgoyftisk2vi)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="699.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="706.5" y="70.9951">EVSE Application</text><rect fill="#FEFECE" filter="url(#fqgoyftisk2vi)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="699.5" y="1578.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="706.5" y="1598.667">EVSE Application</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="908" y="82.9951">Central System</text><path d="M945,34 C945,24 963,24 963,24 C963,24 981,24 981,34 L981,60 C981,70 963,70 963,70 C963,70 945,70 945,60 L945,34 " fill="#FEFECE" filter="url(#fqgoyftisk2vi)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M945,34 C945,44 963,44 963,44 C963,44 981,44 981,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="908" y="1591.667">Central System</text><path d="M945,1604.9688 C945,1594.9688 963,1594.9688 963,1594.9688 C963,1594.9688 981,1594.9688 981,1604.9688 L981,1630.9688 C981,1640.9688 963,1640.9688 963,1640.9688 C963,1640.9688 945,1640.9688 945,1630.9688 L945,1604.9688 " fill="#FEFECE" filter="url(#fqgoyftisk2vi)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M945,1604.9688 C945,1614.9688 963,1614.9688 963,1614.9688 C963,1614.9688 981,1614.9688 981,1604.9688 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#fqgoyftisk2vi)" height="40.2656" style="stroke: #000000; stroke-width: 2.0;" width="997" x="20" y="96.2969"/><polygon fill="#EEEEEE" points="20,96.2969,86,96.2969,86,103.2969,76,113.2969,20,113.2969,20,96.2969" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="33" y="110.3638">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="417" x="312" y="129.3638">Customer presented an id_tag and was sucessfully authenticated</text><polygon fill="#A80036" points="50,158.6953,40,162.6953,50,166.6953,46,162.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="105" y1="162.6953" y2="162.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="56" y="157.6294">plug-in</text><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1045" x="3" y="191.2617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="191.2617" y2="191.2617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="194.2617" y2="194.2617"/><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="224" x="413.5" y="180.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="419.5" y="196.7622">charge session initialization</text><polygon fill="#A80036" points="50,230.9609,40,234.9609,50,238.9609,46,234.9609" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="754,230.9609,764,234.9609,754,238.9609,758,234.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="760" y1="234.9609" y2="234.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="56" y="229.895">hand-shake according to charging standard</text><polygon fill="#A80036" points="596,260.0938,586,264.0938,596,268.0938,592,264.0938" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="754,260.0938,764,264.0938,754,268.0938,758,264.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="590" x2="760" y1="264.0938" y2="264.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="602" y="259.0278">internal communication</text><polygon fill="#A80036" points="951,289.2266,961,293.2266,951,297.2266,955,293.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="957" y1="293.2266" y2="293.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="306" x="592" y="288.1606">StatusNotification.req(connector_id, 'Preparing')</text><polygon fill="#A80036" points="596,318.3594,586,322.3594,596,326.3594,592,322.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="590" x2="962" y1="322.3594" y2="322.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="602" y="317.2935">StatusNotification.conf()</text><path d="M13,337.3594 L77,337.3594 L77,344.3594 L67,354.3594 L13,354.3594 L13,337.3594 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1225.3125" style="stroke: #000000; stroke-width: 2.0;" width="1025" x="13" y="337.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="350.4263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="316" x="92" y="349.5698">[car and evse controller decide to start charging]</text><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1045" x="3" y="375.0586"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="375.0586" y2="375.0586"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="378.0586" y2="378.0586"/><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="132" x="459.5" y="364.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="465.5" y="380.5591">charging starts</text><polygon fill="#A80036" points="50,414.7578,40,418.7578,50,422.7578,46,418.7578" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="754,414.7578,764,418.7578,754,422.7578,758,418.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="760" y1="418.7578" y2="418.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="56" y="413.6919">communication according to charging standard</text><polygon fill="#A80036" points="596,443.8906,586,447.8906,596,451.8906,592,447.8906" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="754,443.8906,764,447.8906,754,451.8906,758,447.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="590" x2="760" y1="447.8906" y2="447.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="602" y="442.8247">internal communication</text><polygon fill="#A80036" points="951,473.0234,961,477.0234,951,481.0234,955,477.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="957" y1="477.0234" y2="477.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="592" y="471.9575">StatusNotification.req(connector_id, 'Charging')</text><polygon fill="#A80036" points="596,502.1563,586,506.1563,596,510.1563,592,506.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="590" x2="962" y1="506.1563" y2="506.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="602" y="501.0903">StatusNotification.conf()</text><polygon fill="#A80036" points="350,531.2891,340,535.2891,350,539.2891,346,535.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="344" x2="584" y1="535.2891" y2="535.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="356" y="530.2231">meter(connector_id, measurands)</text><polygon fill="#A80036" points="573,560.4219,583,564.4219,573,568.4219,577,564.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="339" x2="579" y1="564.4219" y2="564.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="346" y="559.356">return value used as meter_start</text><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1045" x="3" y="592.9883"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="592.9883" y2="592.9883"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="595.9883" y2="595.9883"/><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="196" x="427.5" y="582.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="177" x="433.5" y="598.4888">OCPP transaction starts</text><polygon fill="#A80036" points="951,632.6875,961,636.6875,951,640.6875,955,636.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="957" y1="636.6875" y2="636.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="354" x="592" y="631.6216">StartTransaction.req(connector_id, id_tag, meter_start)</text><polygon fill="#A80036" points="596,661.8203,586,665.8203,596,669.8203,592,665.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="590" x2="962" y1="665.8203" y2="665.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="602" y="660.7544">StartTransaction.conf()</text><path d="M249.5,680.8203 L326.5,680.8203 L326.5,687.8203 L316.5,697.8203 L249.5,697.8203 L249.5,680.8203 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="133.6641" style="stroke: #000000; stroke-width: 2.0;" width="778.5" x="249.5" y="680.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="264.5" y="693.8872">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="443" x="341.5" y="693.0308">[according to MeterValueSampleInterval &amp; ClockAlignedDataInterval]</text><polygon fill="#A80036" points="350,715.0859,340,719.0859,350,723.0859,346,719.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="344" x2="584" y1="719.0859" y2="719.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="356" y="714.02">meter(connector_id, measurands)</text><polygon fill="#A80036" points="573,744.2188,583,748.2188,573,752.2188,577,748.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="339" x2="579" y1="748.2188" y2="748.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="346" y="743.1528">return value</text><polygon fill="#A80036" points="951,773.3516,961,777.3516,951,781.3516,955,777.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="957" y1="777.3516" y2="777.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="592" y="772.2856">MeterValues.req(connector_id, value)</text><polygon fill="#A80036" points="596,802.4844,586,806.4844,596,810.4844,592,806.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="590" x2="962" y1="806.4844" y2="806.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="602" y="801.4185">MeterValues.conf()</text><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1045" x="3" y="842.0508"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="842.0508" y2="842.0508"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="845.0508" y2="845.0508"/><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="215" x="418" y="831.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="196" x="424" y="847.5513">user requests charge stop</text><ellipse cx="338.5" cy="900.1328" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="321.5,896.8828,331.5,900.8828,321.5,904.8828,325.5,900.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="327.5" y1="900.8828" y2="900.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="113" y="880.6841">present ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="113" y="895.8169">e.g. to RFID reader</text><polygon fill="#A80036" points="573,926.0156,583,930.0156,573,934.0156,577,930.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="339" x2="579" y1="930.0156" y2="930.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="346" y="924.9497">id_presented(connector_id, id_tag)</text><rect fill="#FFFFFF" filter="url(#fqgoyftisk2vi)" height="40.2656" style="stroke: #000000; stroke-width: 2.0;" width="503" x="514" y="938.0156"/><polygon fill="#EEEEEE" points="514,938.0156,580,938.0156,580,945.0156,570,955.0156,514,955.0156,514,938.0156" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="527" y="952.0825">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="699.5" y="971.0825">some details omitted</text><polygon fill="#A80036" points="754,1000.4141,764,1004.4141,754,1008.4141,758,1004.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="760" y1="1004.4141" y2="1004.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="592" y="999.3481">request to stop charging</text><polygon fill="#A80036" points="350,1029.5469,340,1033.5469,350,1037.5469,346,1033.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="344" x2="584" y1="1033.5469" y2="1033.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="356" y="1028.481">return True</text><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1045" x="3" y="1062.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="1062.1133" y2="1062.1133"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="1065.1133" y2="1065.1133"/><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="130" x="460.5" y="1051.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="466.5" y="1067.6138">charging stops</text><polygon fill="#A80036" points="50,1101.8125,40,1105.8125,50,1109.8125,46,1105.8125" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="754,1101.8125,764,1105.8125,754,1109.8125,758,1105.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="760" y1="1105.8125" y2="1105.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="56" y="1100.7466">communication according to charging standard</text><polygon fill="#A80036" points="596,1130.9453,586,1134.9453,596,1138.9453,592,1134.9453" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="754,1130.9453,764,1134.9453,754,1138.9453,758,1134.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="590" x2="760" y1="1134.9453" y2="1134.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="602" y="1129.8794">internal communication</text><polygon fill="#A80036" points="350,1160.0781,340,1164.0781,350,1168.0781,346,1164.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="344" x2="584" y1="1164.0781" y2="1164.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="356" y="1159.0122">meter(connector_id, measurands)</text><polygon fill="#A80036" points="573,1189.2109,583,1193.2109,573,1197.2109,577,1193.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="339" x2="579" y1="1193.2109" y2="1193.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="346" y="1188.145">return value used as meter_stop</text><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1045" x="3" y="1221.7773"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="1221.7773" y2="1221.7773"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="1224.7773" y2="1224.7773"/><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="194" x="428.5" y="1211.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="175" x="434.5" y="1227.2778">OCPP transaction stops</text><polygon fill="#A80036" points="951,1261.4766,961,1265.4766,951,1269.4766,955,1265.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="957" y1="1265.4766" y2="1265.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="350" x="592" y="1260.4106">StopTransaction.req(connector_id, id_tag, meter_stop)</text><polygon fill="#A80036" points="596,1290.6094,586,1294.6094,596,1298.6094,592,1294.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="590" x2="962" y1="1294.6094" y2="1294.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="602" y="1289.5435">StopTransaction.conf()</text><polygon fill="#A80036" points="951,1319.7422,961,1323.7422,951,1327.7422,955,1323.7422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="957" y1="1323.7422" y2="1323.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="300" x="592" y="1318.6763">StatusNotification.req(connector_id, 'Finishing')</text><polygon fill="#A80036" points="596,1348.875,586,1352.875,596,1356.875,592,1352.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="590" x2="962" y1="1352.875" y2="1352.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="602" y="1347.8091">StatusNotification.conf()</text><polygon fill="#A80036" points="117,1378.0078,107,1382.0078,117,1386.0078,113,1382.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="338" y1="1382.0078" y2="1382.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="123" y="1376.9419">display information to unplug car</text><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1045" x="3" y="1410.5742"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="1410.5742" y2="1410.5742"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1048" y1="1413.5742" y2="1413.5742"/><rect fill="#EEEEEE" filter="url(#fqgoyftisk2vi)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="172" x="439.5" y="1400.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="445.5" y="1416.0747">charge session done</text><polygon fill="#A80036" points="50,1450.2734,40,1454.2734,50,1458.2734,46,1454.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="105" y1="1454.2734" y2="1454.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="56" y="1449.2075">unplug</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="148" y1="1483.4063" y2="1483.4063"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="148" x2="148" y1="1483.4063" y2="1496.4063"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="107" x2="148" y1="1496.4063" y2="1496.4063"/><polygon fill="#A80036" points="117,1492.4063,107,1496.4063,117,1500.4063,113,1496.4063" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="113" y="1478.3403">drives away</text><polygon fill="#A80036" points="951,1521.5391,961,1525.5391,951,1529.5391,955,1525.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585" x2="957" y1="1525.5391" y2="1525.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="592" y="1520.4731">StatusNotification.req(connector_id, 'Available')</text><polygon fill="#A80036" points="596,1550.6719,586,1554.6719,596,1558.6719,592,1554.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="590" x2="962" y1="1554.6719" y2="1554.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="602" y="1549.606">StatusNotification.conf()</text><!--
@startuml /ocpp_images/process_example2
entity      EV as CAR
actor       Customer as CUST
boundary    "Third-Party Application" as MGMT
participant "ADVANTICS\nOCPP Application" as OCPP
participant "EVSE Application" as EVSE
database    "Central System" as CLOUD

ref over CAR, CLOUD: Customer presented an id_tag and was sucessfully authenticated

CUST -> CAR:    plug-in

== charge session initialization ==
CAR <-> EVSE:   hand-shake according to charging standard
OCPP <-> EVSE:  internal communication
OCPP -> CLOUD:  StatusNotification.req(connector_id, 'Preparing')
OCPP <- CLOUD:  StatusNotification.conf()

alt     car and evse controller decide to start charging

== charging starts ==
CAR <-> EVSE:   communication according to charging standard
OCPP <-> EVSE:  internal communication
OCPP -> CLOUD:  StatusNotification.req(connector_id, 'Charging')
OCPP <- CLOUD:  StatusNotification.conf()
OCPP -> MGMT:   meter(connector_id, measurands)
MGMT -> OCPP:   return value used as meter_start

== OCPP transaction starts ==
OCPP -> CLOUD:  StartTransaction.req(connector_id, id_tag, meter_start)
CLOUD -> OCPP:  StartTransaction.conf()

loop    according to MeterValueSampleInterval & ClockAlignedDataInterval
OCPP -> MGMT:   meter(connector_id, measurands)
MGMT -> OCPP:   return value
OCPP -> CLOUD:  MeterValues.req(connector_id, value)
CLOUD -> OCPP:  MeterValues.conf()
end

== user requests charge stop ==
CUST ->o MGMT:  present ID\ne.g. to RFID reader
MGMT -> OCPP:   id_presented(connector_id, id_tag)
ref over OCPP, CLOUD: some details omitted
OCPP -> EVSE:   request to stop charging
OCPP -> MGMT:   return True

== charging stops ==
CAR <-> EVSE:   communication according to charging standard
OCPP <-> EVSE:  internal communication
OCPP -> MGMT:   meter(connector_id, measurands)
MGMT -> OCPP:   return value used as meter_stop

== OCPP transaction stops ==
OCPP -> CLOUD:  StopTransaction.req(connector_id, id_tag, meter_stop)
CLOUD -> OCPP:  StopTransaction.conf()
OCPP -> CLOUD:  StatusNotification.req(connector_id, 'Finishing')
OCPP <- CLOUD:  StatusNotification.conf()

MGMT -> CUST:   display information to unplug car

== charge session done ==

CUST -> CAR:    unplug
CUST -> CUST:   drives away
OCPP -> CLOUD:  StatusNotification.req(connector_id, 'Available')
OCPP <- CLOUD:  StatusNotification.conf()

end

@enduml

PlantUML version 1.2018.13(Mon Nov 26 18:11:51 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.19+7-post-Ubuntu-0ubuntu120.04.1
Operating System: Linux
OS Version: 5.15.0-76-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>