---
import type { HTMLTag, Polymorphic } from "astro/types";

type Props<Tag extends HTMLTag> = Polymorphic<{
  as: Tag;
  variant?: keyof typeof variantClasses;
  color?: keyof typeof colorClasses;
  class?: string;
  margins?: boolean;
}>;

const {
  as: Tag,
  class: className,
  margins = true,
  variant = Tag,
  color = "content",
  ...props
} = Astro.props;

const variantClasses: Record<string, string> = {
  h1: `text-3xl font-bold tracking-tight  sm:text-5xl ${margins ? "lg:mb-6 mb-2" : ""}`,
  h2: `text-2xl font-semibold tracking-tight  sm:text-4xl ${margins ? "lg:mb-6 mb-2" : ""}`,
  h3: "text-xl sm:text-2xl font-semibold",
  p: "mt-6 text-lg leading-8 max-w-[70ch]",
  small: "text-sm leading-8",
  medium: "text-md leading-8",
  large: "text-lg leading-8",
  body: "text-lg leading-8",
  "body-xl": "text-xl leading-8",
  "mono-xl": "font-mono text-xl leading-8",
  big: "text-2xl sm:text-3xl uppercase",
  bigLC: "text-2xl sm:text-3xl",
  bigger: "text-3xl sm:text-4xl md:text-6xl uppercase",
};

const colorClasses = {
  white: "text-white",
  black: "text-black",
  content: "text-content/90",
  alt: "text-content-alt",
  accent: "text-accent",
  neutral: "text-neutral-300",
  inherit: "text-inherit",
  null: "",
};

const classes = [
  variantClasses[variant as keyof typeof variantClasses],
  colorClasses[color as keyof typeof colorClasses],
  className,
];
---

<Tag class:list={classes} {...props} tabindex="0">
  <slot />
</Tag>
